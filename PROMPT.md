# 概要

データベースのテーブルのある時点の構造・データの差分をとり、以下を可能にします

* テーブル構造の違いを表示、差分解消の DDL を生成する
* データの違い表示、差分解消の DML を生成する

#  

# コマンドイメージ


## 以下の環境変数を受け取ります

```
DB_TYPE=MySQL|Postgres
DB_HOST={ホスト名}
DB_NAME={データベース名} 
DB_USER={DBユーザー名}
DB_PASSWORD={DBパスワード}
```

## 以下のように使います

### スナップショット

その時点のスナップショットを取ります。スナップショット名を省略すると、`{DB_NAME}-yyyy-mm-dd-hh-mi-ss` に拡張子がついた名前になります。
スナップショットをどのような形式にするかは考えましょう。

```
dbdiff snapshot {スナップショット名}

* Options
    * --tables テーブル名をスペース区切りで羅列します。指定しなければ全テーブルを対象とします

### 比較

スナップショットを比較して差分を標準出力に表示します。

```
dbdiff diff {スナップショット1} {スナップショット2}
```

### 差分解消 SQL 生成

スナップショットを比較して差分を解消する DML,DDL 生成して標準出力に表示します。

```
dbdiff {サブコマンド名前どうしよう？} {スナップショット1} {スナップショット2}
```





